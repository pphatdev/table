import{a as d}from"./chunk-VXY77YWR.js";import{a as h}from"./chunk-PADVAEC5.js";import{a as m}from"./chunk-YLL2S27K.js";import{twMerge as r}from"tailwind-merge";var i={thead:{tr:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",th:"h-10 px-2 text-sm text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]"},tbody:{tr:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",td:"p-2 text-sm align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]"}},n=class n extends m{constructor(t,e){super(t);this.useStaticData=t=>{var l,c;this.loadingUI();let e=new URLSearchParams(window.location.search),a=e.has("search")?Array.from(t).filter(u=>u.name.includes(e.get("search")||"")):t,s={limit:"10",page:"1",sort:"asc",search:"",...(c=(l=this.options)==null?void 0:l.option)==null?void 0:c.paginations,...Object.fromEntries(e)},o=h.success(a,a.length,s);this.data=o.result,this.pagination=o.pagination,this.init()};this.loadingUI=()=>{this.renderThead();let t=Array.from({length:10}).map((e,a)=>`<tr class="${i.tbody.tr}">
                    ${Array.from({length:this.theadColumns.length}).map((s,o)=>`
                            <td colspan="" class="p-2.5 py-4 text-xs text-center">
                                <div class="${o===0?"bg-primary/20":"bg-foreground/10"} animate-pulse h-3 rounded-md" style="width: ${Math.floor(Math.random()*50)+40}%"> </div>
                            </td>`).join("")}
                </tr>`).join("");return this.getTbody().innerHTML=t};this.renderThead=()=>{var s;let t=this.getThead();n.theadColumns=this.theadColumns;let e=document.createElement("tr");t.innerHTML="",e.className=r(i.thead.tr,((s=this.options.option)==null?void 0:s.type)==="sticky"?"sticky":"normal");let a=n.thCells();return Array.from(a).forEach(o=>e.appendChild(o)),t.appendChild(e)};this.renderTBody=()=>{let t=this.getTbody();return t.innerHTML="",n.theadColumns=this.theadColumns,this.data.forEach(e=>{let a=document.createElement("tr");a.className=i.tbody.tr,a.dataset.state="unchecked";let s=n.cells(e);Array.from(s).forEach(o=>a.appendChild(o)),t.appendChild(a)}),t};this.searchItems=()=>{let t=new URLSearchParams(window.location.search),e=`[data-table-id="search-${this.element.id}"]`,a=document.querySelector(e);if(!a)return null;a.value=t.get("search")||"",a.addEventListener("input",s=>{s.preventDefault();let o=s.target;t.set("search",o.value),t.set("page","1"),history.pushState(null,"",`${window.location.pathname}?${t.toString()}`),this.useStaticData(this.options.data)})};this.init=()=>{this.renderThead(),this.renderTBody();let t=document.querySelector(`[data-table-id="group-${this.element.id}"]`);new d(t,{buttons:{items:this.pagination||[],paginations:this.options.option.paginations},callback:()=>this.useStaticData(this.options.data)}),n.element=this.element};n.options=this.options=e,this.theadColumns=this.options.columns||[],this.element=this.get(),this.classNames=i,this.useStaticData(this.options.data),this.searchItems()}};n.theadColumns=[],n.thCells=()=>n.theadColumns.map((t,e)=>{let a=document.createElement("th");return a.className=r(i.thead.th,t.className),typeof t.column=="object"&&"th"in t.column?a.innerHTML=(t.column.th||"").toString():a.innerHTML=(t.column||"").toString(),a}),n.cells=t=>n.theadColumns.map((e,a)=>{let s=document.createElement("td");return s.className=r(i.tbody.td,e.className),typeof e.column=="object"&&typeof e.column.td=="function"?s.innerHTML=e.column.td(t)||"":s.innerHTML=t[e.key]||"",s});var p=n;export{p as a};
